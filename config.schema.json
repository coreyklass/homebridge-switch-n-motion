{
  "pluginAlias": "switch-n-motion-platform",
  "pluginType": "platform",
  "singular": true,
  "schema": {
    "type": "object",
    "properties": {

      "accessoryInstances": {
        "title": "Switch n Motion Instances",
        "type": "array",
        "items": {

          "title": "Switch n Motion Instance",
          "type": "object",
          "properties": {

            "accessoryUniqueID": {
              "title": "Unique ID",
              "description": "",
              "type": "number",
              "required": true
            },

            "switchInstanceName": {
              "title": "Switch n Motion Instance Name",
              "description": "",
              "type": "string",
              "required": true
            },

            "masterControlSwitchName": {
              "title": "Master Control Switch Name",
              "description": "This switch is the master control for whether the system is in the ON or OFF state. You will not usually need to create HomeKit automations against this switch directly, but is exposed for convenience.",
              "default": "Master Control Switch",
              "type": "string",
              "required": true
            },

            "switchListenerTriggerSwitchName": {
              "title": "Switch Listener Trigger Switch Name",
              "description": "Create a HomeKit automation to turn this switch ON when your button is pressed (it will automatically turn off). When turned ON, the Master Control Switch state will be flipped (OFF to ON / ON to OFF).",
              "default": "Switch Listener Trigger",
              "type": "string",
              "required": true
            },

            "useMotionListenerFlag": {
              "title": "Use Motion Listener Trigger?",
              "description": "Turn on if you would like to use a motion sensor as a trigger",
              "type": "boolean",
              "default": true
            },

            "motionListenerTriggerSwitch": {
              "title": "Motion Listener Trigger Switch Name",
              "description": "Create a HomeKit automation to turn this switch ON when your motion sensor is triggered (it will automatically turn off). Turning this switch ON will turn the Control Switch ON.",
              "default": "Motion Listener Trigger",
              "type": "string",
              "required": true
            },

            "masterControlSwitchAutoOffTimerMS": {
              "title": "Control Switch Auto-Shutoff (MS)",
              "description": "",
              "type": "number",
              "default": 10000
            },

            "motionListenerIgnoreSwitchName": {
              "title": "Motion Listener Ignore Switch Name",
              "description": "After the Master Control Switch is turned OFF, this switch automatically turns ON to prevent the motion sensor from triggering a Master Control Switch ON event (eg pressing a button to turn the Master Control Switch OFF but you need a delay to move past the motion sensor to leave). It will automatically turn OFF after a configurable amount of time. You will not usually need to create HomeKit automations against this switch directly.",
              "type": "string",
              "default": "Motion Listener Ignore Switch"
            },

            "motionListenerIgnoreSwitchTimerMS": {
              "title": "Motion Listener Ignore Switch Timer (MS)",
              "description": "This specifies the amount of time (in milliseconds) after the Master Control Switch is turned OFF that the motion sensor trigger should be ignored. This is an auto-off delay for the Motion Listener Ignore Switch.",
              "type": "number",
              "default": 5000
            },

            "nightLightControlSwitchName": {
              "title": "Night Light Control Switch Name",
              "description": "This switch controls whether the system is in Night Light mode. When Night Light mode is ON, turning the Control Switch OFF will trigger the Night Light motion sensor instead of the Off motion sensor. You can create a HomeKit automation to turn this ON/OFF based on sunrise/sunset, for example.",
              "default": "Night Light Control Switch",
              "type": "string",
              "required": true
            },

            "nightLightTriggerSwitchName": {
              "title": "Night Light Trigger Switch Name",
              "description": "This is a convenience stateless switch for turning Night Light mode ON or OFF. You can create a HomeKit automation when your button is pressed to turn this switch ON, which will turn the Night Light mode ON if it's off and turn if OFF if it's on. ",
              "default": "Night Light Trigger Switch",
              "type": "string",
              "required": true
            },

            "changeSceneTriggerSwitchName": {
              "title": "Change Scene Trigger Switch Name",
              "description": "This is a stateless switch that will rotate through the available user scene switches. Create a HomeKit automation from a button press to turn this switch on, allowing the user to configure the scene",
              "default": "Change Scene Trigger Switch",
              "type": "string",
              "required": true
            },

            "sceneOffMotionSensorName": {
              "title": "Scene Off Sensor Name",
              "description": "When the system is OFF and NOT in Night Light mode, this occupancy detector is triggered. Create a HomeKit automation to turn your lights off when this occupancy detector is triggered.",
              "default": "Scene Off Sensor",
              "type": "string",
              "required": true
            },

            "sceneNightLightMotionSensorName": {
              "title": "Scene Night Light Sensor Name",
              "description": "When the system is OFF and it is in Night Light mode, this occupancy detector is triggered. Create a HomeKit automation to turn your lights to Night Light mode when this occupancy detector is triggered.",
              "default": "Scene Night Light Sensor",
              "type": "string",
              "required": true
            },


            "sceneModeSwitches": {
              "title": "Scene Modes",
              "type": "array",
              "items": {

                "title": "Scene Mode",
                "type": "object",
                "properties": {

                  "sceneModeID": {
                    "title": "Unique Scene ID",
                    "description": "",
                    "type": "number",
                    "required": true
                  },

                  "switchInstanceName": {
                    "title": "Scene Name",
                    "description": "",
                    "type": "string",
                    "required": true
                  }
                }
              }
            }
          }
        }
      }

    }
  }
}